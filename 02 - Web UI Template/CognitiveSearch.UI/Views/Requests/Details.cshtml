@model CognitiveSearch.UI.Models.FOIARequestsViewModel

@{
    ViewData["Title"] = "FOIA Requests";
}

<div id="divLoadingTabStrip" style="display:none;" class="loading-div">
    <img src="~/images/loading.gif" height="20" width="20" class="mr-1" />
    Retrieving FOIA Requests
</div>
<div id="tabstrip" class="mt-3" style="position:relative;">
    <ul>
        <li class="k-state-active">
            <i class="far fa-list-alt mr-1"></i>
            DMA Batch Jobs
        </li>
        <li>
            <i class="fas fa-plus-circle mr-1"></i>
            Create DMA Batch
        </li>
        <li>
            <i class="fas fa-file-invoice mr-1"></i>
            DMA Assessments
        </li>
        <li>
            <i class="fas fa-file-medical-alt mr-1"></i>
            DMA Process Log
        </li>
    </ul>
</div>

<script>
    $(document).ready(function () {

        var onSelect = function (e) {
            //display loading message on the first load because it takes the longes.
            $("#divLoadingTabStrip").show();

            // detach select event handler via unbind() - no message needed because subsequent loads will be faster
            tabStrip.unbind("select", onSelect);
        };

        var tabStrip = $("#tabstrip").kendoTabStrip({
            animation: false,
            select: onSelect,
            contentUrls: [
                '@Url.Action("BatchJobs", "DMA", null)',
                '@Url.Action("CreateBatch", "DMA", null)',
                '@Url.Action("DMAAssessments", "DMA", null)',
                '@Url.Action("DMAProcessLog", "DMA", null)'
            ]
        }).data("kendoTabStrip");
    });


</script>

